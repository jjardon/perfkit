<?xml version="1.0" ?>
<node>
  <interface name="com.dronelabs.Perfkit.Channel">
    <annotation name="org.freedesktop.DBus.GLib.CSymbol" value="pkd_channel"/>

    <!--
        PkdChannel::AddSource()

            Adds a source to the channel for instrumentation.  Channel must
            not be started.

        Returns: The new object path for the source.
    -->
    <method name="AddSource">
        <annotation name="org.freedesktop.DBus.GLib.CSymbol"
            value="pkd_channel_add_source_dbus"/>
        <arg name="source_info_path" type="o" direction="in"/>
        <arg name="source_path" type="o" direction="out"/>
    </method>

    <!--
        PkdChannel::Start()

            Starts the PkdChannels profiling.  If necessary, a process is
            spawned.

        Returns: True on success.
    -->
    <method name="Start">
    </method>

    <!--
        PkdChannel::Stop()
        @killpid: True if the inferior process should be killed.

            Stops the PkdChannels profiling.  Attached data sources are
            notified to stop as well.  This method terminates any future
            state changes to the channe.

        Returns: None.
    -->
    <method name="Stop">
        <arg name="killpid" type="b" direction="in"/>
    </method>

    <!--
        PkdChannel::Pause()

            Pauses a PkdChannels profiling.  Attached data sources are
            notified to stop producing samples.  If the source does not
            support pausing the samples will be dropped.

        Returns: True on success.
    -->
    <method name="Pause">
    </method>

    <!--
        PkdChannel::Unpause()

            Unpauses a PkdChannels profiling.  Attached data sources
            are notified to wake up and continue producing samples.
            If any source manifests have changed during the time the
            channel was paused, they will be delivered to the
            subscribed clients.

        Returns: True on success.
    -->
    <method name="Unpause">
    </method>

    <!--
        PkdChannel::GetState()

            Retrieves the state of a channel.

        Returns: True on success.
    -->
    <method name="GetState">
        <annotation name="org.freedesktop.DBus.GLib.CSymbol"
            value="pkd_channel_get_state_dbus"/>
        <arg name="state" type="i" direction="out"/>
    </method>

    <!--
        PkdChannel::GetPid()

            Retrieves the pid of the channels target.

        Returns: True on success.
    -->
    <method name="GetPid">
        <annotation name="org.freedesktop.DBus.GLib.CSymbol"
            value="pkd_channel_get_pid_dbus"/>
        <arg name="pid" type="i" direction="out"/>
    </method>

    <!--
        PkdChannel::GetTarget()

            Retrieves the target of the channel.

        Returns: True on success.
    -->
    <method name="GetTarget">
        <annotation name="org.freedesktop.DBus.GLib.CSymbol"
            value="pkd_channel_get_target_dbus"/>
        <arg name="target" type="s" direction="out"/>
    </method>

    <!--
        PkdChannel::GetWorkingDir()

            Retrieves the working-dir of the channel.

        Returns: True on success.
    -->
    <method name="GetWorkingDir">
        <annotation name="org.freedesktop.DBus.GLib.CSymbol"
            value="pkd_channel_get_working_dir_dbus"/>
        <arg name="working_dir" type="s" direction="out"/>
    </method>

    <!--
        PkdChannel::GetArgs()

            Retrieves the target arguments of the channel.

        Returns: True on success.
    -->
    <method name="GetArgs">
        <annotation name="org.freedesktop.DBus.GLib.CSymbol"
            value="pkd_channel_get_args_dbus"/>
        <arg name="args" type="as" direction="out"/>
    </method>

    <!--
        PkdChannel::GetEnv()

            Retrieves the environment of the channel.

        Returns: True on success
    -->
    <method name="GetEnv">
        <annotation name="org.freedesktop.DBus.GLib.CSymbol"
            value="pkd_channel_get_env_dbus"/>
        <arg name="env" type="as" direction="out"/>
    </method>
  </interface>
</node>
